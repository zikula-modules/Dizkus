{% form_theme form with ['bootstrap_3_layout.html.twig',
    'ZikulaDizkusModule:Form:checkbox.html.twig',
    'ZikulaDizkusModule:Form:radio.html.twig'
] %}

{{ showflashes() }}
{{ form_start(form) }}
{{ form_errors(form) }}

<div class="panel panel-info">
    <div class="panel-heading">
        <h3>
            {% if templatetitle is defined %}
                {{ templatetitle }}
            {% else %}    
                {{ __("Quick reply") }}
            {% endif %}        
        </h3>
    </div>
    <div class="panel-body">
        <div class="form-group {% if not form.message.vars.valid %}has-error{% endif %}">    
            {% if not form.message.vars.valid %}
                <div class="alert alert-danger" role="alert">{{ form_errors(form.message) }}</div>
            {% endif %}
            {{ form_widget(form.message, { 'attr': {'rows' : '10', 'cols' : '60', 'maxlegth' : 65572 }} ) }}
            {% if settings.striptags == 'yes' %}
                <span class="help-block">{{ __("No HTML tags allowed (except inside [code][/code] tags)") }}</span>
            {% endif %}
        </div>
        <div class="form-group">
             {{ notifyDisplayHooks(eventName='dizkus.ui_hooks.topic.ui_edit', id=null) }}
        </div>
        <div class="form-group">
            <div class="col-md-4">
            <div><strong>{{ __("Options") }}</strong></div>
                        {{ form_row(form.attachSignature,  {   'label': __("Attach my signature")
                            ,'label_attr': {'class': currentUser.loggedIn ? '' : 'text-muted'}
                            ,'attr': {'class': '','icon': 'fa fa-user'} }) }}                           
                            
                        {{ form_row(form.subscribeTopic,  {   'label': __("Email me when a reply is posted")
                            ,'label_attr': {'class': currentUser.loggedIn ? '' : 'text-muted'}
                            ,'attr': {'class': '', 'icon': currentUser.loggedIn ? 'fa fa-envelope-o fa-green' : 'fa fa-envelope-o'} }) }}                            

                        {{ form_widget(form.save, {'attr': {'class': 'btn btn-success'}}) }}
                        {{ form_widget(form.preview, {'attr': {'class': 'btn btn-primary'}}) }}
                        
                        {#   #}
                        <a id="topic_reply_form_cancel" class="btn btn-danger" href="{{ path('zikuladizkusmodule_topic_viewtopic', {'topic':topic.topic_id}) }}" role="button">{{ __('Cancel') }}</a> 
                        
            </div>
            <div class="col-md-8">
                {{ notifyDisplayHooks(eventName='dizkus.ui_hooks.post.ui_edit', id=null) }}
            </div>
        </div>
    </div>
</div>
{{ form_end(form) }}